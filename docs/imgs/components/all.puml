@startuml

skinparam rectangle<<behavior>> {
	roundCorner 25
}
sprite $component jar:archimate/component

package Omnius.Xeus.Ui.Desktop {
    package Omnius.Xeus.Ui.Desktop.Interactors {
        rectangle FileSearcher <<$component>><<behavior>>
    }
}

package Omnius.Xeus.Service {
    rectangle ProfilePublisher <<$component>><<behavior>>
    rectangle ProfileSubscriber <<$component>><<behavior>>
    rectangle FileDowndoader <<$component>><<behavior>>
    rectangle FileUploader <<$component>><<behavior>>
}

package Omnius.Xeus.Api {
    rectangle XeusService.Client <<$component>><<behavior>>
    rectangle XeusService.Server <<$component>><<behavior>>
}

package Omnius.Xeus.Daemon {
    rectangle XeusServiceImpl <<$component>><<behavior>>
}

package Ominus.Xeus.Engines {
    package Ominus.Xeus.Engines.Connectors {
        rectangle TcpConnector <<$component>><<behavior>>
    }
    package Ominus.Xeus.Engines.Exchangers {
        rectangle ContentExchanger <<$component>><<behavior>>
        rectangle DeclaredMessageExchanger <<$component>><<behavior>>
    }
    package Ominus.Xeus.Engines.Mediators {
        rectangle CkadMediator <<$component>><<behavior>>
    }
    package Ominus.Xeus.Engines.Storages {
        rectangle ContentPublisher <<$component>><<behavior>>
        rectangle ContentSubscriber <<$component>><<behavior>>
        rectangle DeclaredMessagePublisher <<$component>><<behavior>>
        rectangle DeclaredMessageSubscriber <<$component>><<behavior>>
    }
}

FileSearcher -down-> Omnius.Xeus.Service

ProfilePublisher -down-> XeusService.Client
ProfileSubscriber -down-> XeusService.Client
FileDowndoader -down-> XeusService.Client
FileUploader -down-> XeusService.Client

XeusService.Client .down.> XeusService.Server : TCP

XeusService.Server -down-> XeusServiceImpl

XeusServiceImpl -down-> Ominus.Xeus.Engines

CkadMediator -left-> TcpConnector

ContentExchanger -up-> TcpConnector
ContentExchanger -up-> CkadMediator
ContentExchanger -down-> ContentPublisher
ContentExchanger -down-> ContentSubscriber

DeclaredMessageExchanger -up-> TcpConnector
DeclaredMessageExchanger -up-> CkadMediator
DeclaredMessageExchanger -down-> DeclaredMessagePublisher
DeclaredMessageExchanger -down-> DeclaredMessageSubscriber

@enduml
